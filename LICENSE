import random

game=0#gamechoice

print "\n \n \nWelcome to the Calypso! We are a brand new casino and currently have three selections to choose from.\n"

#while loop for games
while game==0 or game==1 or game==2 or game==3:

    print "\t1)BlackJack\n\t2)Roulette\n\t3)Slots\n"
    game=int(raw_input("To select where you would like to go, please enter the corresponding game\nnumber from the list above:\t"))
    
    if game==1:#blackjack
    
    
        print "\n \n \n \nWelcome to my blackjack table! I am the dealer \nand wish you luck in besting my cards. Pro-tip: Aces can only be used as 11."
        
        cards={"two":2,"three":3,"four":4, "five":5,"six":6,"seven":7,"eight":8,"nine":9,"ten":10,"jack":10,"queen":10,"king":10,"ace":11}
        
        deck=["two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","ace"]
        
        name=raw_input("If you would please enter your name:\t")
        
        gameEnderBlackJack="y"
        playerValue=0
        
        
        while gameEnderBlackJack!="n":
            bet=int(raw_input("What shall the wager be?\t$"))
            playerHandValue=0
            playerHand=""
            tempCard=deck[random.randint(0,12)]
            playerHandValue+=cards[tempCard]
            playerHand+=tempCard
            playerHand+=" "
            tempCard=deck[random.randint(0,12)]
            playerHandValue+=cards[tempCard]
            playerHand+=tempCard
            playerHand+=" "
            dealerHand=""
            hiddenDealerCard=""
            dealerHandValue=0
            showingDealerHand=""
            tempCard=deck[random.randint(0,12)]
            dealerHand+=tempCard
            hiddenDealerCard=tempCard
            dealerHand+=" "
            dealerHandValue+=cards[tempCard]
            tempCard=deck[random.randint(0,12)]
            dealerHand+=tempCard
            dealerHand+=" "
            dealerHandValue+=cards[tempCard]
            showingDealerHand+=tempCard
            showingDealerHand+=" "
            print name+"'s ","Hand:\t",playerHand, "\t",playerHandValue
            print "Dealer's Hand:\t",showingDealerHand,"\t",dealerHandValue
            
            hitStayVariable=raw_input("h for hit or s for stay:\t")
            print "\n"
            
            while hitStayVariable.lower()!="s":
                tempCard=deck[random.randint(0,12)]
                playerHand+=tempCard
                playerHandValue+=cards[tempCard]
                playerHand+=" "
                print name+"'s ","Hand:\t",playerHand, "\t",playerHandValue
            
                if playerHandValue>21:
                    print "\tYou busted out"
                    playerValue-=bet
                    print name,"is at $" , playerValue
            
                else:
                    hitStayVariable=raw_input("h for hit or s for stay:\t")
                    print "\n"
                
            if hitStayVariable.lower()=="s":
                showingDealerHand+=hiddenDealerCard
                showingDealerHand+=" "
                
                while dealerHandValue<17:
                    tempCard=deck[random.randint(0,12)]
                    dealerHand+=" "
                    dealerHand+=tempCard
                    dealerHandValue+=cards[tempCard]
                    showingDealerHand+=tempCard
                    showingDealerHand+=" "
                
                print name+"'s ","Hand:\t",playerHand, "\t",playerHandValue
                print "Dealer's Hand:\t",showingDealerHand,"\t",dealerHandValue
                
                if dealerHandValue>21:
                    print "Dealer busted out at ",dealerHandValue
                    print name,"won that round"
                    playerValue+=bet
                    print name,"is at $" , playerValue
                    
                elif playerHandValue>dealerHandValue and playerHandValue<22:
                    print name,"won that round"
                    playerValue+=bet
                    print name,"is at $" , playerValue
                    
                if dealerHandValue>playerHandValue and dealerHandValue<22:
                    print "Dealer won with", dealerHandValue
                    playerValue-=bet
                    print name,"is at $" , playerValue
                if dealerHandValue==playerHandValue:
                    print "Tie with dealer, bets have been returned"

            gameEnderBlackJack=raw_input("Another hand? y or n\t")
            if gameEnderBlackJack == "n":
                game = 0
                
    if game==2:#Roulette
        gameEnderRoulette="y"
        while gameEnderRoulette!="n":
            print "It works"
            
            
            
            
            
            
            
            
            
            
            
            
            gameEnderRoulette=raw_input("Another spin? y to stay or n to leave\t:")
            if gameEnderRoulette=="n":
                game=0
    if game==3:#Slots
        gameEnderSlots="y"
        while gameEnderSlots!="n":
            print "Slots works"
            gameEnderSlots=raw_input("Another spin? y to stay or n to leave\t:")
            if gameEnderSlots== "n":
                game
                
                
                
                
                import random
def Reels():
   # [0]Winning Value, [1]Fruit, [2]Fruit, [3]Fruit
    Ret_Val = [0," "," "," "]
   # Spin those reels !
    Reel_Spin = random.randrange(1,4,1),random.randrange(1,4,1),random.randrange(1,4,1)
# Reel 1
    if Reel_Spin[0] == 1:
	    Ret_Val[0] += 1
	    Ret_Val[1] = "Cherries"
    if Reel_Spin[0] == 2:
	    Ret_Val[0] += 5
	    Ret_Val[1] = "BAR"
    if Reel_Spin[0] == 3:
	    Ret_Val[0] += 20
	    Ret_Val[1] = "$$$"
# Reel 2
    if Reel_Spin[1] == 1:
	    Ret_Val[0] += 1
	    Ret_Val[2] = "777"
    if Reel_Spin[1] == 2:
	    Ret_Val[0] += 5
	    Ret_Val[2] = "BAR"
    if Reel_Spin[1] == 3:
	    Ret_Val[0] += 20
	    Ret_Val[2] = "$$$"
# Reel 3
    if Reel_Spin[2] == 1:
	    Ret_Val[0] += 1
	    Ret_Val[3] = "Cherries"
    if Reel_Spin[2] == 2:
	    Ret_Val[0] += 5
	    Ret_Val[3] = "BAR"
    if Reel_Spin[2] == 3:
	    Ret_Val[0] += 20
	    Ret_Val[3] = "$$$"
    return Ret_Val
# Starting Values
Player_Money = 1000
Jack_Pot = 100
Run = True
while Run == True:
    Bet = 0
    # Reset if player goes broke
    if Player_Money < 1:
	    input("You have no more money. Here is $ 1000 \nPress Enter \n")
	    Player_Money = 1000
	    Jack_Pot = 100
    # User input
    Bet_Line = input(" Place Your Bet ! \n Jackpot $ " + str(Jack_Pot) + "\n Money $ " + str(Player_Money) + "\n Q = quit \n")
    if Bet_Line == "q" or Bet_Line == "Q":
	    Run = False
	    break
    try:
	    Bet = int(Bet_Line)
    except:
	    print("Error: '" + Bet_Line + "' is not a number !")
	    pass
    # Not enough money
    if Bet > Player_Money:
	    print("Sory, you only have $",Player_Money, "\n")
    # Lets play !
    elif Bet <= Player_Money and Bet > 0:
	    Jack_Pot += (int(Bet*.15))
	    Player_Money -= Bet
	    Is_Winner = Reels()
	    I_W = Is_Winner[0]
	    Fruits = Is_Winner[1] + " - " + Is_Winner[2] + " - " + Is_Winner[3]
	    # Match 3 - 1 in 9 chance
	    if I_W == 3 or I_W == 15 or I_W == 60:
		    print(Fruits + "\n" + "You Won $ " + str(Bet*4) + " !!! \n")
		    Player_Money += (Bet*4)
		    # Jackpot 1 in 450 chance of winnning
		    JP1 = random.randrange(1,51,1)
		    JP2 = random.randrange(1,51,1)
		    if  JP1 == JP2:
			    print ("You Won The Jackpot !!!\nHere is your $ " + str(Jack_Pot) + " prize! \n")
			    Jack_Pot = 100
		    elif JP1 != JP2:
			    print ("You did not win the Jackpot this time. \nPlease try again ! \n")
	    # Match 2 - 1 in 4.5 chance
	    elif I_W == 7 or I_W == 22 or I_W == 11 or I_W == 30 or I_W == 41 or I_W == 45:
		    print(Fruits + "\n" + "You Won $ " + str(int(Bet*.5)) + " !!! \n")
		    Player_Money += (int(Bet*.5))
	    # No win
	    else:
		    print(Fruits + "\nPlease try again. \n")
#The End
print("- Program Terminated -")
        
